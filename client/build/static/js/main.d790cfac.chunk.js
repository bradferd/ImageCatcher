(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(63)},38:function(e,t,a){},57:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),i=a.n(r),o=(a(38),a(6)),l=a(8),s=a(1),u=a.n(s),m=a(7),p=a(2),d=a(3),h=a(5),v=a(4),f=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={term:""},e.onFormSubmit=function(t){t.preventDefault(),e.props.onSearchSubmit(e.state.term),e.setState({term:""})},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"ui center aligned category search",style:{marginBottom:"5px"}},c.a.createElement("form",{onSubmit:this.onFormSubmit,className:"ui icon input"},c.a.createElement("i",{className:"search icon"}),c.a.createElement("input",{className:"prompt",placeholder:"search photos...",type:"text",value:this.state.term,onChange:function(t){return e.setState({term:t.target.value})}})))}}]),a}(n.Component),g=a(9),b=a.n(g),E=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).setSpans=function(){var e=n.imageRef.current.clientHeight,t=Math.ceil(e/10);n.setState({spans:t})},n.addToCollection=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("/api/collections/:collectionId/pics",{description:n.props.image.alt_description,imgSrc:n.props.image.urls.regular,collectionId:n.props.match.params.collectionId});case 2:console.log(n.props),n.props.getAllPictureData();case 4:case"end":return e.stop()}},e)})),n.state={spans:0},n.imageRef=c.a.createRef(),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.imageRef.current.addEventListener("load",this.setSpans)}},{key:"render",value:function(){var e=this.props.image,t=e.description,a=e.urls;return c.a.createElement("div",{style:{gridRowEnd:"span ".concat(this.state.spans)}},c.a.createElement("img",{className:"ui rounded image",style:{marginBottom:"2px"},ref:this.imageRef,alt:t,src:a.regular}),c.a.createElement("button",{className:"ui labeled icon button primary",onClick:this.addToCollection},c.a.createElement("i",{className:"plus icon"}),"Add to Collection"))}}]),a}(c.a.Component),y=(a(57),function(e){var t=e.images.map(function(t){return c.a.createElement(E,Object.assign({},e,{key:t.id,image:t}))});return c.a.createElement("div",{className:"image-list"},t)}),O=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={images:[]},e.onSearchSubmit=function(){var t=Object(m.a)(u.a.mark(function t(a){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("/api/search",{params:{query:a}});case 2:n=t.sent,e.setState({images:n.data.results});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"ui container",style:{marginTop:"10px"}},c.a.createElement(f,{onSearchSubmit:this.onSearchSubmit}),c.a.createElement(y,Object.assign({},this.props,{getAllPictureData:this.props.getAllPictureData,images:this.state.images})))}}]),a}(n.Component),N=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={isSignedIn:!1,email:null},e.signIn=function(t){var a=t.getBasicProfile();e.setState({isSignedIn:!0,email:a.getEmail()})},e.signOut=Object(m.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.gapi.auth2.getAuthInstance();case 2:t.sent.signOut(),console.log("user signed out"),e.setState({isSignedIn:!1});case 6:case"end":return t.stop()}},t)})),e}return Object(d.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"ui inverted secondary pointing menu",style:{marginBottom:"0"}},c.a.createElement(o.b,{to:"/",className:"item"},c.a.createElement("i",{className:"camera retro inverted icon"})," ImageCatcher"),c.a.createElement("div",{className:"right menu"},c.a.createElement(o.b,{to:"/collections/new",className:"item"},"New Collection"),c.a.createElement(o.b,{to:"/collections",className:"item"},"All Collections")))}}]),a}(n.Component),j=a(18),C=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"ui container",style:{marginTop:"30px"}},c.a.createElement("div",{className:"ui middle aligned center aligned grid"},c.a.createElement("div",{className:"column"},c.a.createElement("form",{onSubmit:this.props.handleSubmit,className:"ui large form"},c.a.createElement("div",{className:"field"},c.a.createElement("label",{htmlFor:"collection-name"},"Collection Name"),c.a.createElement("input",{onChange:this.props.handleInputChange,type:"text",id:"collection-name",placeholder:"Enter a name for this collection...",name:"name",value:this.props.name,autoComplete:"off"})),c.a.createElement("div",{className:"field"},c.a.createElement("label",{htmlFor:"collection-description"},"Collection Description"),c.a.createElement("input",{onChange:this.props.handleInputChange,type:"text",id:"collection-description",name:"description",value:this.props.description,autoComplete:"off"})),c.a.createElement("input",{type:"submit",value:this.props.inputValue,className:"ui button primary"})))))}}]),a}(n.Component),w=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={newCollection:{name:"",description:""},redirectToCollections:!1},e.handleInputChange=function(t){var a=Object(j.a)({},e.state.newCollection);a[t.target.name]=t.target.value,e.setState({newCollection:a})},e.handleSubmit=function(t){t.preventDefault(),b.a.post("/api/collections",e.state.newCollection),e.setState({redirectToCollections:!0})},e}return Object(d.a)(a,[{key:"render",value:function(){return this.state.redirectToCollections?c.a.createElement(l.a,{to:"/collections"}):c.a.createElement("div",null,c.a.createElement(C,{handleSubmit:this.handleSubmit,handleInputChange:this.handleInputChange,name:this.state.newCollection.name,description:this.state.newCollection.description,inputValue:"Create Collection"}))}}]),a}(n.Component),S=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={collections:[]},e.getAllCollections=Object(m.a)(u.a.mark(function t(){var a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("/api/collections");case 2:a=t.sent,e.setState({collections:a.data});case 4:case"end":return t.stop()}},t)})),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getAllCollections()}},{key:"render",value:function(){var e=this.state.collections.map(function(e){return c.a.createElement("div",{className:"item",key:e._id},c.a.createElement("i",{className:"camera retro middle aligned icon"}),c.a.createElement("div",{className:"content"},c.a.createElement(o.b,{className:"header",to:"/collections/".concat(e._id)},e.name),c.a.createElement("div",{className:"description"},e.description)))});return c.a.createElement("div",{className:"ui container"},c.a.createElement("div",{className:"ui segment vertical masthead"},c.a.createElement("h1",null,"All Collections"),c.a.createElement("h3",null,"Browse Collections or make your own!")),c.a.createElement("div",{className:"ui segment"},c.a.createElement("div",{className:"ui divided list"},e)))}}]),a}(n.Component),k=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"column"},c.a.createElement(o.b,{to:"/collections/".concat(this.props.collectionId,"/pics/").concat(this.props.id)},c.a.createElement("img",{className:"ui medium rounded bordered image",src:this.props.src,alt:this.props.description})),c.a.createElement(o.b,{className:"circular ui icon button",to:"/collections/".concat(this.props.collectionId,"/pics/").concat(this.props.id,"/delete"),style:{marginTop:"2px",marginBottom:"2px"}},c.a.createElement("i",{className:"trash alternate icon"})))}}]),a}(n.Component),x=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props.pictures.map(function(t){return c.a.createElement(k,{description:t.description,src:t.imgSrc,collectionId:t.collectionId,getAll:e.getAll,id:t._id,key:t._id,getAllPictureData:e.props.getAllPictureData})});return c.a.createElement("div",{className:"ui grid"},c.a.createElement("div",{className:"three column row"},t))}}]),a}(n.Component),I=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={collection:[],pictures:[],showSearchBar:!1},e.getAllCollectionData=Object(m.a)(u.a.mark(function t(){var a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("/api/collections/".concat(e.props.match.params.collectionId));case 2:a=t.sent,e.setState({collection:a.data});case 4:case"end":return t.stop()}},t)})),e.getAllPictureData=Object(m.a)(u.a.mark(function t(){var a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("/api/collections/".concat(e.props.match.params.collectionId,"/pics"));case 2:a=t.sent,e.setState({pictures:a.data});case 4:case"end":return t.stop()}},t)})),e.handleShowSearchBar=function(){e.setState(function(e){return{showSearchBar:!e.showSearchBar}})},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getAllCollectionData(),this.getAllPictureData()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("div",{id:"collectionHeader",className:"ui vertical inverted masthead center aligned segment",style:{marginBottom:"0"}},c.a.createElement("h1",null,this.state.collection.name),c.a.createElement("p",null,this.state.collection.description),c.a.createElement(o.b,{to:"/collections/".concat(this.state.collection._id,"/delete"),className:"mini ui button primary"},"Delete Collection"),c.a.createElement(o.b,{to:"/collections/".concat(this.state.collection._id,"/edit"),className:"mini ui button primary"},"Edit Collection"),this.state.showSearchBar?c.a.createElement("button",{className:"mini ui button primary",onClick:this.handleShowSearchBar},"Hide Search"):c.a.createElement("button",{className:"mini ui button primary",onClick:this.handleShowSearchBar},"Add pictures")),c.a.createElement("div",{className:"ui segment",id:"collectionLarge",style:{marginTop:"0"}},this.state.showSearchBar?c.a.createElement("div",{className:"ui two column very relaxed grid"},c.a.createElement("div",{className:"column"},c.a.createElement("div",{className:"ui container center aligned"},c.a.createElement(O,Object.assign({getAllPictureData:this.getAllPictureData},this.props)))),c.a.createElement("div",{className:"column"},c.a.createElement("div",{className:"ui container center aligned"},c.a.createElement("h3",null,"My Pictures"),c.a.createElement(x,Object.assign({getAllPictureData:this.getAllPictureData,pictures:this.state.pictures},this.props))))):c.a.createElement("div",{className:"column"},c.a.createElement("div",{className:"ui container center aligned"},c.a.createElement("h3",null,"My Pictures"),c.a.createElement(x,Object.assign({getAllPictureData:this.getAllPictureData,pictures:this.state.pictures},this.props)))))))}}]),a}(n.Component),A=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"pusher"},c.a.createElement("div",{id:"splash",className:"ui vertical inverted masthead center aligned segment",style:{paddingTop:"125px",paddingBottom:"125px"}},c.a.createElement("div",{className:"ui text container"},c.a.createElement("h1",{className:"ui inverted header"},"ImageCatcher"),c.a.createElement("h2",null,"All your images, in one place"),c.a.createElement(o.b,{to:"/collections/new",className:"ui huge primary button"},"Get Started",c.a.createElement("i",{className:"right arrow icon"})))),c.a.createElement("div",{className:"ui vertical stripe segment"},c.a.createElement("div",{className:"ui middle aligned stackable grid container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"eight wide column"},c.a.createElement("h3",{className:"ui header"},"Who we are"),c.a.createElement("p",null,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. A vero, porro soluta, error ipsa alias quod perferendis ipsam ea odit iure? Culpa labore esse ab quia, dolore enim, unde nesciunt suscipit consequatur perferendis soluta, sequi rerum ut eius voluptate amet provident reiciendis vel corrupti id illo consequuntur minus. Commodi, asperiores!")),c.a.createElement("div",{className:"six wide right floated column"},c.a.createElement("img",{src:"https://images.unsplash.com/photo-1483728642387-6c3bdd6c93e5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60",className:"ui large rounded image",alt:"placeholder"}))))),c.a.createElement("div",{className:"ui vertical stripe segment"},c.a.createElement("div",{className:"ui middle aligned stackable grid container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"six wide left floated column"},c.a.createElement("img",{src:"https://images.unsplash.com/photo-1526080676457-4544bf0ebba9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80",className:"ui large rounded image",alt:"placeholder"})),c.a.createElement("div",{className:"eight wide column"},c.a.createElement("h3",{className:"ui header"},"What we do"),c.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Odio, asperiores ea totam magnam voluptatum, placeat aliquam accusantium, debitis dolorum reiciendis laboriosam illum. Ipsum, nobis ut est quos distinctio commodi ullam unde deserunt nulla veritatis laudantium ipsa quod beatae. Qui pariatur quod minus eum eveniet quisquam. Error assumenda nemo quasi laboriosam!"))))))}}]),a}(n.Component),D=function(e){return i.a.createPortal(c.a.createElement("div",{onClick:e.onDismiss,className:"ui dimmer modals visible active"},c.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui standard modal visible active"},e.title?c.a.createElement("div",{className:"header"},e.title):null,c.a.createElement("div",{className:"content"},e.content),e.actions?c.a.createElement("div",{className:"actions"},e.actions):null)),document.querySelector("#modal"))},B=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={picture:{}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/api/collections/".concat(this.props.match.params.collectionId,"/pics/").concat(this.props.match.params.pictureId));case 2:t=e.sent,this.setState({picture:t.data});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderContent",value:function(){return c.a.createElement("img",{src:this.state.picture.imgSrc,alt:this.state.picture.description,className:"ui fluid image centered"})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement(D,{content:this.renderContent(),onDismiss:function(){return e.props.history.push("/collections/".concat(e.state.picture.collectionId))}}))}}]),a}(n.Component),P=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={collection:[],redirectToCollections:!1},e.getAllCollectionData=Object(m.a)(u.a.mark(function t(){var a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("/api/collections/".concat(e.props.match.params.collectionId));case 2:a=t.sent,e.setState({collection:a.data});case 4:case"end":return t.stop()}},t)})),e.handleDelete=Object(m.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.delete("/api/collections/".concat(e.state.collection._id));case 2:e.setState({redirectToCollections:!0});case 3:case"end":return t.stop()}},t)})),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.getAllCollectionData();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderActions",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{onClick:function(){return e.handleDelete(e.state.collection._id)},className:"ui button negative"},"Delete"),c.a.createElement(o.b,{to:"/collections/".concat(this.state.collection._id),className:"ui button"},"Cancel"))}},{key:"render",value:function(){var e=this;return this.state.redirectToCollections?c.a.createElement(l.a,{to:"/collections"}):c.a.createElement("div",null,c.a.createElement(D,{title:"Delete Collection",content:"Are you sure you want to delete ".concat(this.state.collection.name,"?"),actions:this.renderActions(),onDismiss:function(){return e.props.history.goBack()}}))}}]),a}(n.Component),T=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={picture:[],redirectToCollections:!1},e.handleDeleteImage=Object(m.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.delete("/api/collections/".concat(e.props.match.params.collectionId,"/pics/").concat(e.props.match.params.pictureId));case 2:e.setState({redirectToCollections:!0});case 3:case"end":return t.stop()}},t)})),e}return Object(d.a)(a,[{key:"renderActions",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{onClick:function(){return e.handleDeleteImage(e.props.match.params.pictureId)},className:"ui button negative"},"Delete"),c.a.createElement(o.b,{to:"/collections/".concat(this.props.match.params.collectionId),className:"ui button"},"Cancel"))}},{key:"render",value:function(){var e=this;return this.state.redirectToCollections?c.a.createElement(l.a,{to:"/collections/".concat(this.props.match.params.collectionId)}):c.a.createElement("div",null,c.a.createElement(D,{title:"Delete Picture",content:"Are you sure you want to remove this picture from the collection?",actions:this.renderActions(),onDismiss:function(){return e.props.history.goBack()}}))}}]),a}(n.Component),q=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={collection:{name:"",description:""},redirectToCollection:!1},e.handleInputChange=function(t){var a=Object(j.a)({},e.state.collection);a[t.target.name]=t.target.value,e.setState({collection:a})},e.handleSubmit=function(){var t=Object(m.a)(u.a.mark(function t(a){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,b.a.put("/api/collections/".concat(e.state.collection._id),e.state.collection);case 3:n=t.sent,e.setState({collection:n.data,redirectToCollection:!0});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/api/collections/".concat(this.props.match.params.collectionId));case 2:t=e.sent,this.setState({collection:t.data});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.redirectToCollection?c.a.createElement(l.a,{to:"/collections/".concat(this.props.match.params.collectionId)}):c.a.createElement("div",null,c.a.createElement(C,{handleSubmit:this.handleSubmit,handleInputChange:this.handleInputChange,name:this.state.collection.name,description:this.state.collection.description,inputValue:"Edit Collection"}))}}]),a}(n.Component);var M=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(o.a,null,c.a.createElement(N,null),c.a.createElement(l.d,null,c.a.createElement(l.b,{exact:!0,path:"/",component:A}),c.a.createElement(l.b,{path:"/photos",component:O}),c.a.createElement(l.b,{exact:!0,path:"/collections",component:S}),c.a.createElement(l.b,{path:"/collections/:collectionId/edit",component:q}),c.a.createElement(l.b,{path:"/collections/:collectionId/delete",component:P}),c.a.createElement(l.b,{path:"/collections/:collectionId/pics/:pictureId/delete",component:T}),c.a.createElement(l.b,{path:"/collections/:collectionId/pics/:pictureId",component:B}),c.a.createElement(l.b,{path:"/collections/new",component:w}),c.a.createElement(l.b,{path:"/collections/:collectionId",component:I}))))};i.a.render(c.a.createElement(M,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.d790cfac.chunk.js.map